{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport { getCurrentInstance, ref, computed, watch, nextTick, onMounted } from 'vue';\nimport { useTimeoutFn, isClient } from '@vueuse/core';\nimport { DEFAULT_DIALOG_TRANSITION } from './constants.mjs';\nimport { useLockscreen } from '../../../hooks/use-lockscreen/index.mjs';\nimport { useZIndex } from '../../../hooks/use-z-index/index.mjs';\nimport { useId } from '../../../hooks/use-id/index.mjs';\nimport { useGlobalConfig } from '../../config-provider/src/hooks/use-global-config.mjs';\nimport { defaultNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { addUnit } from '../../../utils/dom/style.mjs';\nimport { isObject, isArray, isFunction } from '@vue/shared';\nimport { UPDATE_MODEL_EVENT } from '../../../constants/event.mjs';\nconst useDialog = (props, targetRef) => {\n  var _a;\n  const instance = getCurrentInstance();\n  const emit = instance.emit;\n  const {\n    nextZIndex\n  } = useZIndex();\n  let lastPosition = \"\";\n  const titleId = useId();\n  const bodyId = useId();\n  const visible = ref(false);\n  const closed = ref(false);\n  const rendered = ref(false);\n  const zIndex = ref((_a = props.zIndex) != null ? _a : nextZIndex());\n  let openTimer = void 0;\n  let closeTimer = void 0;\n  const config = useGlobalConfig();\n  const namespace = computed(() => {\n    var _a2, _b;\n    return (_b = (_a2 = config.value) == null ? void 0 : _a2.namespace) != null ? _b : defaultNamespace;\n  });\n  const globalConfig = computed(() => {\n    var _a2;\n    return (_a2 = config.value) == null ? void 0 : _a2.dialog;\n  });\n  const style = computed(() => {\n    const style2 = {};\n    const varPrefix = `--${namespace.value}-dialog`;\n    if (!props.fullscreen) {\n      if (props.top) {\n        style2[`${varPrefix}-margin-top`] = props.top;\n      }\n      if (props.width) {\n        style2[`${varPrefix}-width`] = addUnit(props.width);\n      }\n    }\n    return style2;\n  });\n  const _draggable = computed(() => {\n    var _a2, _b, _c;\n    return ((_c = (_b = props.draggable) != null ? _b : (_a2 = globalConfig.value) == null ? void 0 : _a2.draggable) != null ? _c : false) && !props.fullscreen;\n  });\n  const _alignCenter = computed(() => {\n    var _a2, _b, _c;\n    return (_c = (_b = props.alignCenter) != null ? _b : (_a2 = globalConfig.value) == null ? void 0 : _a2.alignCenter) != null ? _c : false;\n  });\n  const _overflow = computed(() => {\n    var _a2, _b, _c;\n    return (_c = (_b = props.overflow) != null ? _b : (_a2 = globalConfig.value) == null ? void 0 : _a2.overflow) != null ? _c : false;\n  });\n  const overlayDialogStyle = computed(() => {\n    if (_alignCenter.value) {\n      return {\n        display: \"flex\"\n      };\n    }\n    return {};\n  });\n  const transitionConfig = computed(() => {\n    var _a2, _b, _c;\n    const transition = (_c = (_b = props.transition) != null ? _b : (_a2 = globalConfig.value) == null ? void 0 : _a2.transition) != null ? _c : DEFAULT_DIALOG_TRANSITION;\n    const baseConfig = {\n      name: transition,\n      onAfterEnter: afterEnter,\n      onBeforeLeave: beforeLeave,\n      onAfterLeave: afterLeave\n    };\n    if (isObject(transition)) {\n      const config2 = {\n        ...transition\n      };\n      const _mergeHook = (userHook, defaultHook) => {\n        return el => {\n          if (isArray(userHook)) {\n            userHook.forEach(fn => {\n              if (isFunction(fn)) fn(el);\n            });\n          } else if (isFunction(userHook)) {\n            userHook(el);\n          }\n          defaultHook();\n        };\n      };\n      config2.onAfterEnter = _mergeHook(config2.onAfterEnter, afterEnter);\n      config2.onBeforeLeave = _mergeHook(config2.onBeforeLeave, beforeLeave);\n      config2.onAfterLeave = _mergeHook(config2.onAfterLeave, afterLeave);\n      if (!config2.name) {\n        config2.name = DEFAULT_DIALOG_TRANSITION;\n      }\n      return config2;\n    }\n    return baseConfig;\n  });\n  function afterEnter() {\n    emit(\"opened\");\n  }\n  function afterLeave() {\n    emit(\"closed\");\n    emit(UPDATE_MODEL_EVENT, false);\n    if (props.destroyOnClose) {\n      rendered.value = false;\n    }\n  }\n  function beforeLeave() {\n    emit(\"close\");\n  }\n  function open() {\n    closeTimer == null ? void 0 : closeTimer();\n    openTimer == null ? void 0 : openTimer();\n    if (props.openDelay && props.openDelay > 0) {\n      ({\n        stop: openTimer\n      } = useTimeoutFn(() => doOpen(), props.openDelay));\n    } else {\n      doOpen();\n    }\n  }\n  function close() {\n    openTimer == null ? void 0 : openTimer();\n    closeTimer == null ? void 0 : closeTimer();\n    if (props.closeDelay && props.closeDelay > 0) {\n      ({\n        stop: closeTimer\n      } = useTimeoutFn(() => doClose(), props.closeDelay));\n    } else {\n      doClose();\n    }\n  }\n  function handleClose() {\n    function hide(shouldCancel) {\n      if (shouldCancel) return;\n      closed.value = true;\n      visible.value = false;\n    }\n    if (props.beforeClose) {\n      props.beforeClose(hide);\n    } else {\n      close();\n    }\n  }\n  function onModalClick() {\n    if (props.closeOnClickModal) {\n      handleClose();\n    }\n  }\n  function doOpen() {\n    if (!isClient) return;\n    visible.value = true;\n  }\n  function doClose() {\n    visible.value = false;\n  }\n  function onOpenAutoFocus() {\n    emit(\"openAutoFocus\");\n  }\n  function onCloseAutoFocus() {\n    emit(\"closeAutoFocus\");\n  }\n  function onFocusoutPrevented(event) {\n    var _a2;\n    if (((_a2 = event.detail) == null ? void 0 : _a2.focusReason) === \"pointer\") {\n      event.preventDefault();\n    }\n  }\n  if (props.lockScroll) {\n    useLockscreen(visible);\n  }\n  function onCloseRequested() {\n    if (props.closeOnPressEscape) {\n      handleClose();\n    }\n  }\n  watch(() => props.zIndex, () => {\n    var _a2;\n    zIndex.value = (_a2 = props.zIndex) != null ? _a2 : nextZIndex();\n  });\n  watch(() => props.modelValue, val => {\n    var _a2;\n    if (val) {\n      closed.value = false;\n      open();\n      rendered.value = true;\n      zIndex.value = (_a2 = props.zIndex) != null ? _a2 : nextZIndex();\n      nextTick(() => {\n        emit(\"open\");\n        if (targetRef.value) {\n          targetRef.value.parentElement.scrollTop = 0;\n          targetRef.value.parentElement.scrollLeft = 0;\n          targetRef.value.scrollTop = 0;\n        }\n      });\n    } else {\n      if (visible.value) {\n        close();\n      }\n    }\n  });\n  watch(() => props.fullscreen, val => {\n    if (!targetRef.value) return;\n    if (val) {\n      lastPosition = targetRef.value.style.transform;\n      targetRef.value.style.transform = \"\";\n    } else {\n      targetRef.value.style.transform = lastPosition;\n    }\n  });\n  onMounted(() => {\n    if (props.modelValue) {\n      visible.value = true;\n      rendered.value = true;\n      open();\n    }\n  });\n  return {\n    afterEnter,\n    afterLeave,\n    beforeLeave,\n    handleClose,\n    onModalClick,\n    close,\n    doClose,\n    onOpenAutoFocus,\n    onCloseAutoFocus,\n    onCloseRequested,\n    onFocusoutPrevented,\n    titleId,\n    bodyId,\n    closed,\n    style,\n    overlayDialogStyle,\n    rendered,\n    visible,\n    zIndex,\n    transitionConfig,\n    _draggable,\n    _alignCenter,\n    _overflow\n  };\n};\nexport { useDialog };","map":{"version":3,"names":["useDialog","props","targetRef","_a","instance","getCurrentInstance","emit","nextZIndex","useZIndex","lastPosition","titleId","useId","bodyId","visible","ref","closed","rendered","zIndex","openTimer","closeTimer","config","useGlobalConfig","namespace","computed","_a2","_b","value","defaultNamespace","globalConfig","dialog","style","style2","varPrefix","fullscreen","top","width","addUnit","_draggable","_c","draggable","_alignCenter","alignCenter","_overflow","overflow","overlayDialogStyle","display","transitionConfig","transition","DEFAULT_DIALOG_TRANSITION","baseConfig","name","onAfterEnter","afterEnter","onBeforeLeave","beforeLeave","onAfterLeave","afterLeave","isObject","config2","_mergeHook","userHook","defaultHook","el","isArray","forEach","fn","isFunction","UPDATE_MODEL_EVENT","destroyOnClose","open","openDelay","stop","useTimeoutFn","doOpen","close","closeDelay","doClose","handleClose","hide","shouldCancel","beforeClose","onModalClick","closeOnClickModal","isClient","onOpenAutoFocus","onCloseAutoFocus","onFocusoutPrevented","event","detail","focusReason","preventDefault","lockScroll","useLockscreen","onCloseRequested","closeOnPressEscape","watch","modelValue","val","nextTick","parentElement","scrollTop","scrollLeft","transform","onMounted"],"sources":["../../../../../../packages/components/dialog/src/use-dialog.ts"],"sourcesContent":["import {\n  computed,\n  getCurrentInstance,\n  nextTick,\n  onMounted,\n  ref,\n  watch,\n} from 'vue'\nimport { useTimeoutFn } from '@vueuse/core'\nimport {\n  defaultNamespace,\n  useId,\n  useLockscreen,\n  useZIndex,\n} from '@element-plus/hooks'\nimport { UPDATE_MODEL_EVENT } from '@element-plus/constants'\nimport {\n  addUnit,\n  debugWarn,\n  isArray,\n  isClient,\n  isFunction,\n  isObject,\n} from '@element-plus/utils'\nimport { useGlobalConfig } from '@element-plus/components/config-provider'\nimport { DEFAULT_DIALOG_TRANSITION } from './constants'\n\nimport type { CSSProperties, Ref, SetupContext, TransitionProps } from 'vue'\nimport type { Arrayable } from '@element-plus/utils'\nimport type { DialogEmits, DialogProps } from './dialog'\n\nconst COMPONENT_NAME = 'ElDialog'\n\nexport const useDialog = (\n  props: DialogProps,\n  targetRef: Ref<HTMLElement | undefined>\n) => {\n  const instance = getCurrentInstance()!\n  const emit = instance.emit as SetupContext<DialogEmits>['emit']\n  const { nextZIndex } = useZIndex()\n\n  let lastPosition = ''\n  const titleId = useId()\n  const bodyId = useId()\n  const visible = ref(false)\n  const closed = ref(false)\n  const rendered = ref(false) // when destroyOnClose is true, we initialize it as false vise versa\n  const zIndex = ref(props.zIndex ?? nextZIndex())\n\n  let openTimer: (() => void) | undefined = undefined\n  let closeTimer: (() => void) | undefined = undefined\n\n  const config = useGlobalConfig()\n\n  const namespace = computed(() => config.value?.namespace ?? defaultNamespace)\n  const globalConfig = computed(() => config.value?.dialog)\n\n  const style = computed<CSSProperties>(() => {\n    const style: CSSProperties = {}\n    const varPrefix = `--${namespace.value}-dialog` as const\n    if (!props.fullscreen) {\n      if (props.top) {\n        style[`${varPrefix}-margin-top`] = props.top\n      }\n      if (props.width) {\n        style[`${varPrefix}-width`] = addUnit(props.width)\n      }\n    }\n    return style\n  })\n\n  const _draggable = computed(\n    () =>\n      (props.draggable ?? globalConfig.value?.draggable ?? false) &&\n      !props.fullscreen\n  )\n\n  const _alignCenter = computed(\n    () => props.alignCenter ?? globalConfig.value?.alignCenter ?? false\n  )\n\n  const _overflow = computed(\n    () => props.overflow ?? globalConfig.value?.overflow ?? false\n  )\n\n  const overlayDialogStyle = computed<CSSProperties>(() => {\n    if (_alignCenter.value) {\n      return { display: 'flex' }\n    }\n    return {}\n  })\n\n  const transitionConfig = computed(() => {\n    const transition =\n      props.transition ??\n      globalConfig.value?.transition ??\n      DEFAULT_DIALOG_TRANSITION\n    const baseConfig = {\n      name: transition,\n      onAfterEnter: afterEnter,\n      onBeforeLeave: beforeLeave,\n      onAfterLeave: afterLeave,\n    }\n    if (isObject(transition)) {\n      const config = { ...transition } as TransitionProps\n      const _mergeHook = (\n        userHook: Arrayable<(el: Element) => void> | undefined,\n        defaultHook: () => void\n      ) => {\n        return (el: Element) => {\n          if (isArray(userHook)) {\n            userHook.forEach((fn) => {\n              if (isFunction(fn)) fn(el)\n            })\n          } else if (isFunction(userHook)) {\n            userHook(el)\n          }\n          defaultHook()\n        }\n      }\n      config.onAfterEnter = _mergeHook(config.onAfterEnter, afterEnter)\n      config.onBeforeLeave = _mergeHook(config.onBeforeLeave, beforeLeave)\n      config.onAfterLeave = _mergeHook(config.onAfterLeave, afterLeave)\n      if (!config.name) {\n        config.name = DEFAULT_DIALOG_TRANSITION\n        debugWarn(\n          COMPONENT_NAME,\n          `transition.name is missing when using object syntax, fallback to '${DEFAULT_DIALOG_TRANSITION}'`\n        )\n      }\n      return config\n    }\n\n    return baseConfig\n  })\n\n  function afterEnter() {\n    emit('opened')\n  }\n\n  function afterLeave() {\n    emit('closed')\n    emit(UPDATE_MODEL_EVENT, false)\n    if (props.destroyOnClose) {\n      rendered.value = false\n    }\n  }\n\n  function beforeLeave() {\n    emit('close')\n  }\n\n  function open() {\n    closeTimer?.()\n    openTimer?.()\n\n    if (props.openDelay && props.openDelay > 0) {\n      ;({ stop: openTimer } = useTimeoutFn(() => doOpen(), props.openDelay))\n    } else {\n      doOpen()\n    }\n  }\n\n  function close() {\n    openTimer?.()\n    closeTimer?.()\n\n    if (props.closeDelay && props.closeDelay > 0) {\n      ;({ stop: closeTimer } = useTimeoutFn(() => doClose(), props.closeDelay))\n    } else {\n      doClose()\n    }\n  }\n\n  function handleClose() {\n    function hide(shouldCancel?: boolean) {\n      if (shouldCancel) return\n      closed.value = true\n      visible.value = false\n    }\n\n    if (props.beforeClose) {\n      props.beforeClose(hide)\n    } else {\n      close()\n    }\n  }\n\n  function onModalClick() {\n    if (props.closeOnClickModal) {\n      handleClose()\n    }\n  }\n\n  function doOpen() {\n    if (!isClient) return\n    visible.value = true\n  }\n\n  function doClose() {\n    visible.value = false\n  }\n\n  function onOpenAutoFocus() {\n    emit('openAutoFocus')\n  }\n\n  function onCloseAutoFocus() {\n    emit('closeAutoFocus')\n  }\n\n  function onFocusoutPrevented(event: CustomEvent) {\n    if (event.detail?.focusReason === 'pointer') {\n      event.preventDefault()\n    }\n  }\n\n  if (props.lockScroll) {\n    useLockscreen(visible)\n  }\n\n  function onCloseRequested() {\n    if (props.closeOnPressEscape) {\n      handleClose()\n    }\n  }\n\n  watch(\n    () => props.zIndex,\n    () => {\n      zIndex.value = props.zIndex ?? nextZIndex()\n    }\n  )\n\n  watch(\n    () => props.modelValue,\n    (val) => {\n      if (val) {\n        closed.value = false\n        open()\n        rendered.value = true // enables lazy rendering\n        zIndex.value = props.zIndex ?? nextZIndex()\n        // this.$el.addEventListener('scroll', this.updatePopper)\n        nextTick(() => {\n          emit('open')\n          if (targetRef.value) {\n            targetRef.value.parentElement!.scrollTop = 0\n            targetRef.value.parentElement!.scrollLeft = 0\n            targetRef.value.scrollTop = 0\n          }\n        })\n      } else {\n        // this.$el.removeEventListener('scroll', this.updatePopper\n        if (visible.value) {\n          close()\n        }\n      }\n    }\n  )\n\n  watch(\n    () => props.fullscreen,\n    (val) => {\n      if (!targetRef.value) return\n      if (val) {\n        lastPosition = targetRef.value.style.transform\n        targetRef.value.style.transform = ''\n      } else {\n        targetRef.value.style.transform = lastPosition\n      }\n    }\n  )\n\n  onMounted(() => {\n    if (props.modelValue) {\n      visible.value = true\n      rendered.value = true // enables lazy rendering\n      open()\n    }\n  })\n\n  return {\n    afterEnter,\n    afterLeave,\n    beforeLeave,\n    handleClose,\n    onModalClick,\n    close,\n    doClose,\n    onOpenAutoFocus,\n    onCloseAutoFocus,\n    onCloseRequested,\n    onFocusoutPrevented,\n    titleId,\n    bodyId,\n    closed,\n    style,\n    overlayDialogStyle,\n    rendered,\n    visible,\n    zIndex,\n    transitionConfig,\n    _draggable,\n    _alignCenter,\n    _overflow,\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}